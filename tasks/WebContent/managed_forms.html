<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">

    <title class="lang" data-lang="c_records">r</title>

    <link href="/css/bootstrap.v4.5.min.css" rel="stylesheet">
    <link href="/custom/css/custom.css" rel="stylesheet">
    <link href="/custom/css/org/custom.css" rel="stylesheet">
    <link href="/css/fa.v5.15.1.all.min.css" rel="stylesheet">
    <link href="/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <link href="/css/smap3.css" rel="stylesheet">
    <link href="/css/bootstrap-multiselect.css" rel="stylesheet">
    <link href="/js/libs/DataTables-1.13.3/datatables.min.css" rel="stylesheet">


    <link href="/css/bootstrap-toggle.min.css" rel="stylesheet"/>

    <link href="/css/dataTables.fontAwesome.css" rel="stylesheet">


    <link href="/js/libs/ol3/ol.css" rel="stylesheet">
    <link href="/js/libs/ol3/ol3-layerswitcher.css" rel="stylesheet">

    <style>
        .map {
            height: 400px;
            width: 100%;
        }

        #map {
            width: 100%;
            height: 300px;
        }

        #features {
            z-index: 40000;
        }

        #mapModal {
            width: 100%;
            height: 200px;
        }

    </style>

    <script src="/js/libs/modernizr.js"></script>
    <script src="/js/app/theme.js"></script>
    <script src="/js/app/pwacommon.js"></script>
    <script src="/js/libs/jquery-3.5.1.min.js"></script>
    <script src="/js/libs/popper.v1.16.1.min.js"></script>
    <script src="/js/libs/bootstrap.bundle.v4.5.min.js"></script>

    <script src="/js/libs/ol3/ol.js"></script>
    <script src="/js/libs/ol3/ol3-layerswitcher.js"></script>
    <script src="/js/libs/d3.v4.min.js"></script>
    <script src="/js/libs/DataTables-1.13.3/datatables.min.js"></script>

    <script src="/js/libs/chart.min.3.8.0.js"></script>
    <script src="/js/app/custom.js"></script>  <!-- Override this in custom code to apply changes at run time -->
    <script>
        let isDuplicates = false;
        let page = 'console';
    </script>
    <script data-main="js/managed_forms" src="/js/libs/require.js"></script>

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-smap navbar-light bg-light bg-navbar-smap">
    <a class="navbar-brand lang" data-lang="m_console" href="#">console</a>
    <div class="spinner-grow text-danger hour_glass"></div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"><i class="fas fa-bars large-bars"></i></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown active">
                <a class="nav-link dropdown-toggle" href="#" id="m_modules" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="lang" data-lang="m_modules">modules</span>
                </a>
                <div class="dropdown-menu" aria-labelledby="m_modules">
                    <a class="dropdown-item lang" data-lang="m_home" href="/?loggedin=yes">home</a>
                    <a class="dropdown-item restrict_role admin_role analyst_role" href="/edit.html"> <span class="lang" data-lang="c_edit">Edit</span></a>
                    <a class="dropdown-item restrict_role admin_role analyst_role" href="/app/fieldManager/surveyManagement.html"><span class="lang" data-lang="m_admin">Admin</span></a>
                    <a class="dropdown-item restrict_role manage_role admin_role analyst_role" href="/app/myWork/index.html"><span class="lang" data-lang="m_web_forms"></span></a>
                    <a class="dropdown-item restrict_role manage_role admin_role analyst_role" href="/app/tasks/managed_forms.html"><span class="lang" data-lang="m_console"></span></a>
                    <a class="dropdown-item restrict_role analyst_role data_role" href="/app/fieldAnalysis/index.html"><span class="lang" data-lang="m_analysis">Analysis</span></a>
                    <a class="dropdown-item restrict_role admin_role analyst_role manage_role task_role" href="/app/tasks/taskManagement.html"><span class="nav-label lang" data-lang="m_assign">assign</span></a>
                    <a id="c_campaigns" class="dropdown-item restrict_role admin_role analyst_role" href="/app/tasks/campaign.html"><span class="lang" data-lang="c_campaigns">m</span></a>
                    <a class="dropdown-item restrict_role admin_role analyst_role" href="/app/api.html"><span class="lang" data-lang="c_api">api</span></a>
                    <a class="dropdown-item restrict_role billing_role" href="/app/fieldManager/billing.html"><span class="lang" data-lang="m_billing">billing</span></a>
                    <a class="dropdown-item restrict_role dashboard_role" style="display:none;" href="/dashboard/index.html"><span>Dashboard</span></a>
                    <a class="dropdown-item restrict_role admin_role analyst_role manage_role task_role" href="/app/reports.html"><span class="nav-label lang" data-lang="m_reports">reports</span></a>
                    <a class="dropdown-item restrict_role admin_role analyst_role" href="/app/userTrail.html"><span class="nav-label lang" data-lang="m_locations"></span></a>
                </div>
            </li>

            <li class="nav-item dropdown active">
                <a class="nav-link dropdown-toggle lang" data-lang="c_file" id="m_file" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                <div class="dropdown-menu" aria-labelledby="m_file">
                    <a id="m_export_xls" class="dropdown-item genfile docx lang" data-lang="c_word" href="#"></a>
                    <a id="m_export_word" class="dropdown-item genfile xls lang" data-lang="c_excel" href="#"></a>
                </div>
            </li>

            <li id="m_duplicates" class="nav-item restrict_role admin_role"><a class="nav-link" href="/app/tasks/duplicates.html"><span class="lang" data-lang="mon_dup"></span></a></li>
            <li id="m_web_forms" class="nav-item restrict_role enum_role"><a class="nav-link" href="/app/myWork/index.html"><span class="lang" data-lang="m_web_forms"></span></a></li>
            <li id="m_rep" class="nav-item restrict_role admin_role analyst_role"><a class="nav-link" href="/app/reports.html"><span class="lang" data-lang="m_reports"></span></a></li>

            <li class="nav-item dropdown active">
                <a class="nav-link dropdown-toggle" href="#" id="m_local_reports" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="lang" data-lang="m_lr">reports</span></a>
                <div class="dropdown-menu" aria-labelledby="m_local_reports">
                    <a id="m_summary_report" class="dropdown-item restrict_role admin_role analyst_role data_role genxlsfileall" href="#"><span class="lang" data-lang="mf_sr">summary</span></a>
                    <a class="dropdown-item xxxx1 d-none" href="/misc/CreatingIdentificationCards.docx"><span>Guide on creating Id Cards</span></a>
                    <a class="dropdown-item xxxx1 d-none" href="/misc/CardMergeTemplate.docx"><span>ID Card Template</span></a>
                    <a id="m_tdh_individual" href="#" class="dropdown-item server_specific tdh localhost d-none">Individual Report</a>
                </div>
            </li>

            <li><a href="#" id="m_refresh"><span class="nav-link lang" data-lang="m_refresh">r</span></a></li>
            <li id="m_help" class="nav-item"><a class="nav-link" href="https://www.smap.com.au/docs" target="_blank"><span class="nav-label lang" data-lang="m_help">help</span></a></li>
            <li id="m_training" class="nav-item d-none"><a class="nav-link" id="train_link" href="#" target="_blank"><span class="nav-label lang" data-lang="m_training">training</span></a></li>
            <li class="nav-item dropdown active">
                <a class="nav-link dropdown-toggle" href="#" id="m_profile" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-user" aria-hidden="true"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="m_profile">
                    <a class="dropdown-item lang"  id="username" data-lang="m_user_profile" data-toggle="modal" data-target="#modify_me_popup" aria-label="User"> </a>
                    <a class="dropdown-item lang" data-lang="c_change_p" href="/app/changePassword.html"></a>
                    <a id="userProfileLogout" class="dropdown-item lang" data-lang="c_logout" href="#"></a>
                </div>
            </li>
        </ul>

    </div>
</nav>

<div class="container-fluid">

    <div class="card mt-2">
        <div class="col-sm-12">
            <div class="bg-light row filtersShown">
                <!-- Header Row - Filtering goes here-->

                <div class="col-sm-4 pt-4 px-2 overviewSection border-right">
                    <form class="form" role="form">
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label"  data-lang="c_project"  for="project_name"></label>
                            <div class="col-sm-8">
                                <select class="project_list form-control" id="project_name"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="c_survey" for="survey_name"></label>
                            <div class="col-sm-8">
                                <select class="survey_select data_survey form-control" id="survey_name"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="mf_of" for="oversight_survey"></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="oversight_survey"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="c_sub_form" for="sub_form"></label>
                            <div class="col-sm-8">
                                <select class="form-control" id="sub_form"></select>
                            </div>
                        </div>
                    </form>

                </div>

                <div class="col-sm-4 pt-4 px-2 overviewSection srview border-right">
                    <button id="clear_srview" class="btn btn-info lang" data-lang="mf_clear"></button>
                </div>

                <div class="col-sm-4 pt-4 px-2 overviewSection mrview border-right">
                    <form class="form" role="form">
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="c_dateq" for="date_question">date</label>
                            <div class="col-sm-8">
                                <select class="form-control table_filter" id="date_question"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="a_from_date" for="filter_from">from</label>
                            <div class="col-sm-8">
                                <input type="date" class="hasDatepicker form-control table_filter" id="filter_from">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-4 control-label" data-lang="a_to_date" for="filter_to">to</label>
                            <div class="col-sm-8">
                                <input type="date" class="hasDatepicker form-control table_filter" id="filter_to">
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="include_bad">
                                    <label class="custom-control-label lang" data-lang="mf_id" for="include_bad"></label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <div class="col-sm-12">
                                <div class="custom-control custom-switch">
                                    <input type="checkbox" class="custom-control-input" id="include_completed">
                                    <label class="custom-control-label lang" data-lang="mf_cc" for="include_completed"></label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="col-sm-4 pt-4 px-2 overviewSection">
                    <form class="form" role="form">

                        <div class="custom-control custom-switch">
                            <input type="checkbox" class="custom-control-input assign_filter" id="my_records">
                            <label class="custom-control-label lang" data-lang="mf_mr" for="my_records"></label>
                        </div>
                        <div class="custom-control custom-switch ">
                            <input type="checkbox" class="custom-control-input assign_filter" id="unassigned_records">
                            <label class="custom-control-label lang" data-lang="mf_ur" for="unassigned_records"></label>
                        </div>
                        <div class="custom-control custom-switch">
                            <input type="checkbox" class="custom-control-input assign_filter" id="other_records">
                            <label class="custom-control-label lang" data-lang="mf_or" for="other_records"></label>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-4 control-label"
                                   for="advanced_filter"><span class="lang" data-lang="c_filter"></span>
                                <a class="filter_help" href="https://www.smap.com.au/docs/server-expressions.html" target="_blank"> ( i ) </a></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="advanced_filter"></input>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-4 control-label lang"
                                   for="limit" data-lang="mf_max"></label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="limit"></input>
                            </div>
                        </div>

                    </form>
                </div>


                <div class="bulkEditSection col-sm-12 showMgmtData">

                    <div id="bulkEditInfo" class="alert alert-success" style="display:none;"></div>
                    <div class="row">
                        <div class="col-sm-8"><b><span class="lang" data-lang="c_question"></span></b></div>
                        <div class="col-sm-4"><b><span class="lang" data-lang="c_clear"></span></b></div>
                    </div>
                    <form id="bulkEditForm"></form>

                    <button id="saveBulkEdit" type="button" class="btn btn-success lang saverecord"
                            data-dismiss="modal"
                            data-lang="c_save">Save
                    </button>

                    <button id="exitBulkEdit" type="button" class="btn btn-primary exitBulkEdit">
                        <span class="lang" data-lang="c_back">exit</span>
                    </button>

                    <div class="re_alert alert alert-success mt-2" role="alert" style="display:none;"></div>
                </div>

            </div>

            <!-- record editing commands -->
            <div class="bg-light row">
                <div class="col-sm-4 pt-4 px-2 editRecordSection border-right">
                    <div class="custom-control custom-switch dataView">
                        <input type="checkbox" class="custom-control-input table_filter"
                               name="formdata" value="yes" id="er_form_data" checked="checked">
                        <label class="custom-control-label lang" data-lang="mf_fd" for="er_form_data"></label>
                    </div>

                    <div class="custom-control custom-switch historyView" style="display:none">
                        <input type="checkbox" class="custom-control-input changes_filter"
                               name="showtasks" value="yes" id="er_show_tasks" checked="checked">
                        <label class="custom-control-label lang" data-lang="t_tasks" for="er_show_tasks"></label>
                    </div>
                    <div class="custom-control custom-switch historyView" style="display:none">
                        <input type="checkbox" class="custom-control-input changes_filter"
                               name="showNotifications" value="yes" id="er_show_notifications" checked="checked">
                        <label class="custom-control-label lang" data-lang="m_notify" for="er_show_notifications"></label>
                    </div>
                    <div class="custom-control custom-switch historyView" style="display:none">
                        <input type="checkbox" class="custom-control-input changes_filter"
                               name="showChanges" value="yes" id="er_show_changes" checked="checked">
                        <label class="custom-control-label lang" data-lang="c_changes" for="er_show_changes"></label>
                    </div>
                    <div class="custom-control custom-switch historyView" style="display:none">
                        <input type="checkbox" class="custom-control-input changes_filter"
                               name="showAssignments" value="yes" id="er_show_assignments" checked="checked">
                        <label class="custom-control-label lang" data-lang="t_assignments" for="er_show_assignments"></label>
                    </div>
                </div>

                <div class="col-sm-4 pt-4 px-2 editRecordSection border-right">
                    <button class="genrecordpdf btn btn-danger"><i class="fa fa-file-pdf"></i></button>
                    <a class="launchwebform btn btn-success restrict_role enum_role" target="_blank"
                       href="#" ><i class="fas fa-globe"></i></a>
                </div>

                <div class="col-sm-4 pt-4 px-2 editRecordSection border-right">
                    <button class="editRecordSection lang btn btn-primary" data-lang="t_add_task" id="addTask"></button>
                    <button class="editRecordSection lang btn btn-primary" data-lang="msg_send_notification" id="addNotification"></button>
                    <button id="exitEditRecord2" type="button" class="btn btn-success exitEditRecord lang" data-lang="c_back"></button>
                </div>
            </div>


            <div class="overviewSection">
                <div class="d-flex w-100 px-1">
                    <!--<p id="timezone" class="mr-auto py-2"></p>  Is this really useful and it complicates mobile first-->
                    <ul class="nav">

                        <li class="nav-item filtersShown">
                            <a id="hideFilters"  class="nav-link active lang" data-lang="mf_hc" href="#">hide</a>
                        </li>
                        <li class="nav-item filtersHidden" style="display:none;">
                            <a id="showFilters" class="nav-link lang" data-lang="mf_sc" href="#">show</a>
                        </li>
                        <li class="nav-item editRecordSection">
                            <a id="exitEditRecord" class="nav-link lang" data-lang="c_back" href="#">Link</a>
                        </li>
                        <li class="nav-item targetSpecific tableOnly">
                            <a id="show_settings" class="nav-link" href="#"><i class="fa fa-cog"></i> <span class="lang" data-lang="mf_ts"></span></a>
                        </li>

                        <li class="nav-item mapOnly targetSpecific" style="display:none;">
                            <div class="custom-control custom-switch custom-control-inline my-2">
                                <input type="checkbox" class="custom-control-input" id="showlayers">
                                <label class="custom-control-label lang" data-lang="d_layers" for="showlayers"></label>
                            </div>
                        </li>

                        <li class="nav-item my-2 my-lg-0  mx-1">
                            <div class="btn-group not_deleted singleSelectOnly my-2" role="group" aria-label="drill down">
                                <button type="button" class="lang du_only btn btn-secondary" data-lang="co_up" id="drill_up"></button>
                                <button type="button" class="dd_only lang btn btn-secondary" data-lang="co_dd" id="drill_down"></button>
                                <div class="btn-group dd_only" role="group">
                                    <button id="dd_form" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    </button>
                                    <div id="drill_down_list" class="dropdown-menu" aria-labelledby="drill_down">

                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>

                    <form class="form-inline my-2 my-lg-0">
                        <button class="targetSpecific singleSelectOnly not_deleted lang btn btn-danger mx-1 my-1" data-lang="c_del" id="m_delete"></button>
                        <button class="targetSpecific singleSelectOnly deleted lang btn btn-info mx-1 my-1" data-lang="c_undel" id="m_undelete"></button>
                        <button class="targetSpecific singleSelectOnly not_assigned lang btn btn-primary mx-1 my-1" data-lang="mf_lock" id="m_lock"></button>
                        <button class="targetSpecific singleSelectOnly assigned lang btn btn-secondary mx-1 my-1" data-lang="mf_rel" id="m_release"></button>
                        <button class="targetSpecific multiSelectOnly lang btn btn-primary mx-1 my-1" data-lang="co_b" id="m_bulk_edit"></button>
                        <button class="targetSpecific singleSelectOnly assigned lang btn btn-primary mx-1 my-1" data-lang="c_edit" id="m_edit"></button>
                        <button class="targetSpecific singleSelectOnly linksOnly assigned not_assigned assigned_other lang btn btn-primary mx-1 my-1" data-lang="c_links" id="m_links"></button>
                        <button class="targetSpecific singleSelectOnly assigned not_assigned assigned_other lang btn btn-primary mx-1 my-1" data-lang="m_view" id="m_view"></button>
                        <button class="targetSpecific singleSelectOnly assigned_admin lang btn btn-warning mx-1 my-1" type="button" data-lang="t_assign" id="m_assign_to"></button>
                        <button class="targetSpecific chartOnly lang btn btn-success mx-1 my-1 d-none" type="button" data-lang="d_add_c" id="m_add_chart"></button>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <div id="dashboardInfo" class="alert alert-success" style="display:none;"></div>

    <!-- Main panel -->
    <div class="card text-center overviewSection">
        <div class="card-header">
            <ul id="mainTabs" class="nav nav-tabs card-header-tabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <a data-toggle="tab" id="table-view" href="#tablePanel" role="tab" class="active nav-link" aria-controls="table-view" aria-selected="true"><i class="fa fa-list" aria-hidden="true"></i> <span class="lang" data-lang="c_table"></span></a>
                </li>
                <li class="nav-item">
                    <a data-toggle="tab" id="map-view" href="#mapPanel" role="tab" class="nav-link" aria-controls="map-view" aria-selected="false"><i class="fa fa-globe" aria-hidden="true"></i> <span class="lang" data-lang="c_map"></span></a>
                </li>
                <li class="nav-item">
                    <a data-toggle="tab" id="chart-view" href="#chartPanel" role="tab" class="nav-link"><i class="fa fa-chart-bar" aria-hidden="true"></i> <span class="lang" data-lang="c_chart"></span></a>
                </li>
                <li class="nav-item" style="display:none;"><a data-toggle="tab" id="timing-view" href="#timingPanel" role="tab" class="nav-link"><i class="fa fa-clock-o" aria-hidden="true"></i></a></li>
            </ul>
        </div>

        <div class="card-body">

            <div class="tab-content">
                <div id="tablePanel" class="tab-pane fade show active" role="tabpanel" aria-labelledby="table-view">

                    <div id="table_content" class="col-md-12 dash_views">
                        <div class="sk-spinner sk-spinner-wave">
                            <div class="sk-rect1"></div>
                            <div class="sk-rect2"></div>
                            <div class="sk-rect3"></div>
                            <div class="sk-rect4"></div>
                            <div class="sk-rect5"></div>
                        </div>
                        <div class="table-responsive">
                            <table id="trackingTable" class="table table-striped">
                            </table>
                        </div>
                    </div>
                </div>


                <div id="mapPanel" class="tab-pane fade" role="tabpanel" aria-labelledby="map-view">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-4 map_layers" style="display:none;">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5 class="lang" data-lang="c_map_layers"></h5>
                                        <div class="pull-right">
                                            <a id="m_add_layer">
                                                <i class="btn btn-success fa fa-bar-map-o fa-lg">
                                                    <span class="nav-label lang" data-lang="d_add"></span></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <div id="layerSelect">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th class="lang" data-lang="c_name"></th>
                                                <th class="lang" data-lang="c_del"></th>
                                            </tr>
                                            </thead>
                                            <tbody>

                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div id="map_content" class="col-md-12 dash_views">
                                <div id="map" class="map"></div>
                                <div id="features" class="feature-panel-right"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="chartPanel"  role="tabpanel" class="tab-pane fade" aria-labelledby="chart-view">
                    <div class="panel-body">
                        <div id="chartcontent" class="row">

                        </div>
                    </div>
                </div>
                <div id="timingPanel"  role="tabpanel" class="tab-pane fade d-none" aria-labelledby="timing-view">
                    <div class="panel-body">
                        <div id="timingcontent">
                            <div class="row" id="timingrow"></div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
    <div class="card text-center editRecordSection">
        <div class="card-header">
            <ul id="editTabs" class="nav nav-tabs mt-4" role="tablist">
                <li class="nav-item" role="presentation"><a data-toggle="tab" href="#data-view" class="active nav-link"><i class="fa fa-list"></i> <span class="lang" data-lang="c_data"></span></a></li>
                <li class="nav-item" role="presentation"><a data-toggle="tab" href="#changes-view" class="nav-link"><i class="fa fa-edit"></i> <span class="lang" data-lang="c_history"></span></a></li>
            </ul>
        </div>

        <div class="card-body">
            <div class="tab-content mt-4">

                <div id="data-view" role="tabpanel" class="tab-pane active">
                    <div class="panel-body">
                        <div class="row">

                            <div class="col-sm-6 b-r showFormData">
                                <h3 class="m-t-none m-b lang" data-lang="mf_fd"></h3>
                                <form id="surveyForm"></form>
                            </div>
                            <div class="col-sm-6 b-r showMgmtData">
                                <h3 class="m-t-none m-b lang" data-lang="mf_md">mgmt data</h3>
                                <form id="editRecordForm"></form>

                                <button id="saveRecord" type="button" class="btn btn-primary lang saverecord"
                                        data-dismiss="modal"
                                        data-lang="c_save">Save
                                </button>

                                <div class="re_alert alert alert-success mt-2" role="alert" style="display:none;"></div>
                                <div class="shareRecordOnly well">
                                    <form>
                                        <div class="form-group role_select">
                                            <h4 class="lang" data-lang="c_roles">roles</h4>
                                            <div class="role_select_roles"></div>
                                        </div>
                                        <div class="form-group">
                                            <div class="input-group">
                                                <span class="input-group-btn">
                                                    <button id="getSharedRecord" class="btn btn-info" type="button"><i class="fa fa-share-alt"></i></button>
                                                </span>
                                                <input type="text" id="srLink" required class="form-control" readonly>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="changes-view" role="tabpanel" class="tab-pane">
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table" id="changes"></table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal to edit a chart widget -->
<div id="editChart" class="modal fade" aria-hidden="true">
    <div class="modal-dialog custom-modal-width">
        <div class="modal-content">
            <div class="modal-header">
                <!--  <button id="shareRecord" type="button" class="btn btn-info"><i class="fa fa-share-alt"></i> <span class="lang" data-lang="n_share">get link</span></button> -->
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12"><h3 class="m-t-none m-b lang" data-lang="mf_fd">form data</h3>

                        <form id="chartForm" role="form" class="form-horizontal">

                            <div class="form-group">
                                <label class="lang col-sm-2 control-label" data-lang="c_title"
                                       for="ew_title">title</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control title" id="ew_title">

                                </div>
                            </div>


                            <div class="form-group">
                                <label class="col-sm-2 control-label lang" data-lang="a_ts" for="ew_tseries">time
                                    series</label>
                                <div class="col-sm-1">
                                    <div class="checkbox">
                                        <input type="checkbox" id="ew_tseries">
                                    </div>
                                </div>

                                <div class="tseries_only">
                                    <label class="lang col-sm-2 control-label" data-lang="c_period" for="ew_period">period</label>
                                    <div class="col-sm-3">
                                        <select class="form-control" id="ew_period">
                                            <option class="lang" value="day" data-lang="c_day">day</option>
                                            <option class="lang" value="month" data-lang="c_month">month</option>
                                            <option class="lang" value="year" data-lang="c_year">year</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <div class="form-group">
                                    <label class="col-sm-2 control-label lang" data-lang="a_sl" for="ew_qlabel">time
                                        series</label>
                                    <div class="col-sm-1">
                                        <div class="checkbox">
                                            <input type="checkbox" id="ew_qlabel">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <div class="form-group">
                                    <label class="lang col-sm-2 control-label" data-lang="a_type" for="ew_chart_type">chart_type</label>
                                    <div class="col-sm-10">
                                        <select class="form-control chart_type" id="ew_chart_type">
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label" for="ew_question1"><span data-lang="c_question" class="lang">question</span>
                                    1</label>
                                <div class="col-sm-4">
                                    <select class="form-control question_req" id="ew_question1">
                                    </select>
                                </div>

                                <label class="lang col-sm-2 control-label" data-lang="a_fn"
                                       for="ew_fn">function</label>
                                <div class="col-sm-4">
                                    <select class="form-control" id="ew_fn">
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label"
                                       for="ew_question2"><span class="lang" data-lang="c_question">question</span>
                                    2</label>
                                <div class="col-sm-10">
                                    <select class="form-control question" id="ew_question2">
                                    </select>
                                </div>
                            </div>


                            <div class="form-group">
                                <label class="lang col-sm-2 control-label" data-lang="c_width"
                                       for="ew_width">width</label>
                                <div class="col-sm-10">
                                    <select class="form-control" id="ew_width">
                                        <option class="lang" value="3" data-lang="d_qtr">25</option>
                                        <option class="lang" value="6" data-lang="d_half">50</option>
                                        <option class="lang" value="9" data-lang="d_3qtr">75</option>
                                        <option class="lang" value="12" data-lang="d_full">100</option>
                                    </select>
                                </div>
                            </div>
                        </form>
                        <div id="chartInfo" style="word-wrap:break-word; display:none;" class="alert"
                             role="alert"></div>
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close
                </button>
                <button id="editChartSave" type="button" class="btn btn-primary lang" data-lang="c_save">Save</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal to edit a map layer -->
<div id="layerEdit" class="modal fade" aria-hidden="true">
    <div class="modal-dialog custom-modal-width">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12 b-r">
                        <h3 class="m-t-none m-b lang" data-lang="mf_ld"></h3>

                        <form id="mapForm" role="form" class="form-horizontal">

                            <div class="form-group row">
                                <label class="lang col-sm-2 control-label" data-lang="c_title"
                                       for="ml_title"></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control title" id="ml_title" required>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <div class="checkbox">
                                        <label>
                                            <input type="checkbox" id="usecurrent_tabledata" checked><span
                                                data-lang="br_cd" class="lang"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <div class="radio">
                                        <label>
                                            <input type="radio" value="normal" id="clump_normal" name="clump"
                                                   checked><span data-lang="c_normal" class="lang"></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-10">
                                    <div class="radio">
                                        <label>
                                            <input type="radio" value="heatmap" id="clump_heatmap" name="clump"><span
                                                data-lang="c_heatmap" class="lang"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>


                            <!--
							<div class="form-group">
								 <label class="lang col-sm-2 control-label" data-lang="c_survey" for="ml_survey">survey</label>
								<div class="col-sm-10">
									<select class="form-control" id="ml_survey">
									</select>
								</div>
							</div>

							<div class="form-group">
								 <label class="lang col-sm-2 control-label" data-lang="c_survey" for="ml_survey">survey</label>
								<div class="col-sm-10">
									<select class="form-control" id="ml_survey">
									</select>
								</div>
							</div>
							-->

                        </form>
                        <div id="layerInfo" style="word-wrap:break-word; display:none;" class="alert"
                             role="alert"></div>
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                <button id="addLayerSave" type="button" class="btn btn-primary lang" data-lang="c_save"></button>
            </div>
        </div>
    </div>
</div>

<!-- Modal to assign a user -->
<div id="userAssign" class="modal fade" aria-hidden="true">
    <div class="modal-dialog custom-modal-width">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title lang" data-lang="t_assign"></h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only"></span></button>
            </div>
            <div class="modal-body">

                <form class = "px-4" role="form">

                    <div class="form-group row">
                        <select id="user_to_assign" class="custom-select"></select>
                    </div>

                </form>
                <div id="assignUserInfo" style="word-wrap:break-word; display:none;" class="alert" role="alert"></div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                <button id="assignUserSave" type="button" data-dismiss="modal" class="btn btn-primary lang " data-lang="c_save"></button>
            </div>
        </div>
    </div>
</div>

<!-- Modal to delete / restore a record -->
<div id="toggleRecord" class="modal fade" aria-hidden="true">
    <div class="modal-dialog custom-modal-width">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="toggleRecordTitle" class="modal-title"></h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only"></span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12 b-r">

                        <form role="form">

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="c_reason" for="toggle_reason">r</label>
                                <div class="col-sm-10">
                                    <input id="toggle_reason" type='text' class="form-control" name="taskTitle">
                                </div>
                            </div>

                        </form>
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                <button id="toggleRecordSave" type="button" data-dismiss="modal" class="btn btn-primary"></button>
            </div>
        </div>
    </div>
</div>

<!--
	Modal to show task properties and allow them to be edited
	Replicated from taskManagement. These two code bases should be combined howeve
	  currently task managmement and managed_forms use two different map APIs mapbox and OL3
-->
<div id="task_properties" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="taskPropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="taskPropLabel"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form role="form" id="taskPropertiesForm" name="taskProperties">
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label lang" data-lang="c_name" for="tp_name">name</label>
                            <div class="col-sm-10">
                                <input id="tp_name" type='text' class="form-control" name="taskTitle">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="lang col-sm-2 col-form-label" data-lang="c_survey" for="tp_form_name"></label>
                            <div class="col-sm-10">
                                <select class="disable_blocked form-control" id="tp_form_name"></select>
                            </div>
                        </div>
                        <div class="well">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="assign_type"></label>
                                <div class="col-sm-10">
                                    <div class="btn-group" role="group" aria-label="select assignment type">
                                        <button id="tp_user_type" type="button" class="btn btn-outline-secondary assign_type user_type_checkbox lang active" data-lang="c_user"></button>
                                        <button id="tp_email_type" type="button" class="btn btn-outline-secondary assign_type email_type_checkbox lang" data-lang="c_email"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group assign_user assign_group row">.
                                <label class="lang col-sm-2 col-form-label" data-lang="c_user" for="tp_user"></label>
                                <div class="col-sm-9">
                                    <select class="users_select form-control" id="tp_user"></select>
                                </div>
                            </div>

                            <div class="form-group assign_email assign_group row">
                                <label class="lang col-sm-2 col-form-label" for="tp_assign_emails" data-lang="c_email" ></label>
                                <div class="col-sm-10">
                                    <input type="email" id="tp_assign_emails" class="form-control" required multiple placeholder="">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="t_pol" for="tp_pol"></label>
                                <div class="col-sm-10">
                                    <div class="checkbox">
                                        <input type="checkbox" name="repeat" value="repeat" id="tp_pol">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="t_auto2" for="tp_assign_auto"></label>
                                <div class="col-sm-5">
                                    <div class="checkbox">
                                        <input type="checkbox" id="tp_assign_auto">
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <p class="lang" data-lang="t_auto">auto</p>
                                </div>
                            </div>

                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label lang" data-lang="c_persist" for="tp_repeat"></label>
                            <div class="col-sm-3">
                                <div class="checkbox">
                                    <input type="checkbox" name="repeat" value="repeat" id="tp_repeat">
                                </div>
                            </div>
                            <div class="col-sm-7">
                                <p class="lang" data-lang="msg_persist"></p>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label lang" data-lang="c_from" for="tp_from"></label>
                            <div class="col-sm-10">
                                <div class='input-group date' id='tp_from' data-toggle="tooltip" data-container="body"
                                     title="Scheduled date in local time zone">
                                    <input type='text' class="form-control" data-date-format="YYYY-MM-DD HH:mm:ss">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="button"><span class="input-group-addon"><i class="fas fa-calendar-alt"></i></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label lang" data-lang="c_to" for="tp_to"></label>
                            <div class="col-sm-10">
                                <div class='input-group date' id='tp_to' data-toggle="tooltip" data-container="body"
                                     title="Finish time">
                                    <input type='text' class="form-control" data-date-format="YYYY-MM-DD HH:mm:ss">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="button"><span class="input-group-addon"><i class="fas fa-calendar-alt"></i></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="col-sm-2 col-form-label lang" data-lang="t_g" for="tp_guidance">guide</label>
                            <div class="col-sm-10">
                                <input id="tp_guidance" type='text' class="form-control" name="guidance">
                            </div>
                        </div>

                        <div class="well">
                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="t_nfc"
                                       for="location_select"></label>
                                <div class="col-sm-10">
                                    <div class="input-group mb-3">
                                        <div class="input-group-prepend">
                                            <button type="button" class="btn btn-outline-secondary"><span class="location_group_list_sel"></span></button>
                                            <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <span class="sr-only">Toggle Dropdown</span></button>
                                            <div class="dropdown-menu location_group_list" id="location_group"></div>
                                        </div>
                                        <select class="form-control location_select" id="location_select" name="location_trigger"></select>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="sr_uid" for="nfc_uid"></label>
                                <div class="col-sm-10">
                                    <input id="nfc_uid" type='text' class="form-control">
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-2 col-form-label lang" data-lang="c_location">locn</label>
                                <div class="col-sm-10">
                                    <div id="mapModal"></div>
                                </div>
                            </div>

                            <div class="form-group row" id="location_save_panel" style="display:none;">
                                <label class="col-sm-2 col-form-label lang" data-lang="sr_sl">locn</label>
                                <div class="col-sm-10">
                                    <div class="well2">
                                        <p class="lang" data-lang="sr_si"></p>
                                        <form>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="location_save" id="location_save_al" value="al">
                                                <label class="form-check-label lang" data-lang="sr_al" for="location_save_al">
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="location_save" id="location_save_ul" value="ul">
                                                <label class="form-check-label lang" data-lang="sr_ul" for="location_save_ul">
                                                </label>
                                            </div>
                                            <div class="form-check disabled">
                                                <input class="form-check-input" type="radio" name="location_save" id="location_save_nl" value="nl">
                                                <label class="form-check-label lang" data-lang="sr_nl" for="location_save_nl">
                                                </label>
                                            </div>
                                            <div class="form-group row update_only">
                                                <label for="locationGroupSave" class="col-sm-2 col-form-label lang" data-lang="sr_g"></label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control" id="locationGroupSave">
                                                </div>
                                            </div>
                                            <div class="form-group row update_only">
                                                <label for="locationSave" class="col-sm-2 col-form-label lang" data-lang="c_name"></label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control" id="locationSave">
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label class="lang col-sm-2 col-form-label lang" data-lang="t_show_dist"
                                   for="tp_show_dist"></label>
                            <div class="col-sm-3">
                                <input type="integer" class="form-control" id="tp_show_dist">
                            </div>
                            <div class="col-sm-7">
                                <span class="lang" data-lang="t_show_dist_i"></span>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close
                </button>
                <button id="taskPropertiesSave" type="button" class="btn btn-primary lang" data-lang="c_save">Save
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Popup to allow the user to add a notification -->
<div id="addNotificationPopup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addNotificationLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title lang" id="addNotificationLabel" data-lang="msg_send_notification">send</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">
                <form id="notification_edit_form">

                    <div class="form-group row">
                        <label class="lang col-sm-2 control-label" data-lang="c_target" for="target"></label>
                        <div class="col-sm-10">
                            <select class="form-control" id="target"></select>
                        </div>
                    </div>

                    <div class="submission_options form-group row">
                        <label for="not_form_name" class="lang col-sm-2 control-label" data-lang="c_survey"></label>
                        <div class="col-sm-10">
                            <select id="not_form_name" class="form-control"></select>
                        </div>
                    </div>

                    <div class="well email_options submission_options" style="display:none;">
                        <div class="form-group row" >
                            <label class="lang col-sm-2 control-label" data-lang="c_attach" for="email_attach"></label>
                            <div class="col-sm-10">
                                <select class="form-control" id="email_attach">
                                    <option value="none" class="lang" data-lang="c_none">none</option>
                                    <option value="webform" class="lang" data-lang="n_wf">web form</option>
                                    <option value="pdf" class="lang" data-lang="n_pdfp">pdf p</option>
                                    <option value="pdf_landscape" class="lang" data-lang="n_pdfl">pdf l</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group pdf_options submission_options row" style="display:none;">
                            <div class="col-sm-1 offset-sm-2">
                                <div class="checkbox">
                                    <input type="checkbox" name="include_references" value="include_references" id="include_references">
                                </div>
                            </div>
                            <label class="col-sm-9 control-label lang" data-lang="n_inc_ref" for="include_references"></label>
                        </div>

                        <div class="form-group pdf_options submission_options row" style="display:none;">
                            <div class="col-sm-1 offset-sm-2">
                                <div class="checkbox">
                                    <input type="checkbox" name="launched_only" value="launched_only" id="launched_only">
                                </div>
                            </div>
                            <label class="col-sm-9 control-label lang" data-lang="n_lo" for="launched_only"></label>
                        </div>
                        
                    </div>

                    <div class="email_options" style="display:none;">

                        <div id="notify_emails_cont" class="form-group row lang_tt" data-lang_tt="n_cs_e" data-toggle="tooltip"  data-container="body" title="">
                            <label for="notify_emails" data-lang="c_email" class="lang col-sm-2 control-label"></label>
                            <div class="col-sm-10">
                                <textarea type="email" rows="2" id="notify_emails" class="form-control lang_ph" data-lang_ph="n_ea" required multiple placeholder=""></textarea>
                            </div>
                        </div>

                        <div id="email_subject_cont" class="form-group row lang_tt" data-lang_tt="n_esc" data-toggle="tooltip"  data-container="body" title="">
                            <label for="email_subject" data-lang="c_subject" class="lang col-sm-2 control-label"></label>
                            <div class="col-sm-10">
                                <input type="text" id="email_subject" class="form-control">
                            </div>
                        </div>
                        <div class="well">
                            <div class="form-group row" data-toggle="tooltip"  data-container="body">
                                <label for="email_content" data-lang="c_content" class="lang col-sm-2 control-label"></label>
                                <div class="col-sm-10">
                                    <textarea id="email_content" class="labelProp form-control"></textarea>
                                </div>
                            </div>
                            <div class="form-group task_reminder_options row">
                                <label for="email_content_ap" data-lang="n_ap" class="lang col-sm-2 control-label"></label>
                                <div class="col-sm-8">
                                    <select id="email_content_ap" class="labelProp form-control">
                                        <option class="lang" data-lang="c_task" value="${task_webform}">webform</option>
                                        <option class="lang" data-lang="t_assigned" value="${assignee_name}">assigned</option>
                                        <option class="lang" data-lang="c_scheduled" value="${scheduled}">scheduled</option>
                                    </select>
                                </div>
                                <div class="col-sm-2">
                                    <button id="email_content_ap_insert" type="button" class="btn btn-info lang" data-lang="c_insert"></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="sms_options" style="display:none;">
                        <div class="form-group row lang_tt" data-lang_tt="n_sms_n_tt" data-toggle="tooltip"  data-container="body" title="">
                            <label for="notify_sms" data-lang="c_sms" class="lang col-sm-2 control-label"></label>
                            <div class="col-sm-10">
                                <input type="tel" id="notify_sms" class="form-control" required>
                            </div>
                        </div>

                        <div class="form-group row" data-container="body">
                            <label for="notify_sms" data-lang="n_si" class="lang col-sm-2 control-label"></label>
                            <div class="col-sm-10">
                                <input type="text" id="sms_sender_id" class="form-control">
                            </div>
                        </div>
                        <div class="form-group row" data-container="body">
                            <label for="sms_content" data-lang="c_content" class="lang col-sm-2 control-label"></label>
                            <div class="col-sm-10">
                                <textarea id="sms_content" class="labelProp form-control"></textarea>
                            </div>
                        </div>
                    </div>


                </form>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                    <button id="saveNotification" type="button" class="btn btn-primary lang" data-lang="c_save"></button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup to allow the user to generate a PDF -->
<div id="genPdfPopup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="genpdfLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title lang" id="genpdfLabel" data-lang="d_d_pdf">pdf</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">
                <form id="genpdf_form">

                    <div class="form-group row" >
                        <label class="lang col-sm-2 control-label" data-lang="c_orientation" for="pdf_orientation"></label>
                        <div class="col-sm-10">
                            <select class="form-control" id="pdf_orientation">
                                <option value="portrait" class="lang" data-lang="n_pdfp">pdf p</option>
                                <option value="landscape" class="lang" data-lang="n_pdfl">pdf l</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row" >
                        <label class="lang col-sm-2 control-label" data-lang="c_lang" for="pdf_language"></label>
                        <div class="col-sm-10">
                            <select class="form-control language_sel" id="pdf_language">
                            </select>
                        </div>
                    </div>

                    <div class="form-group row" >
                        <label class="lang col-sm-2 control-label" data-lang="c_template" for="select_pdf"></label>
                        <div class="col-sm-10">
                            <select class="form-control" id="select_pdf">
                            </select>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-6 col-form-label lang" data-lang="n_inc_ref" for="pdf_include_references"></label>
                        <div class="col-sm-6">
                            <div class="checkbox">
                                <input type="checkbox" id="pdf_include_references">
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-sm-6 col-form-label lang" data-lang="n_lo" for="pdf_launched_only"></label>
                        <div class="col-sm-6">
                            <div class="checkbox">
                                <input type="checkbox" id="pdf_launched_only">
                            </div>
                        </div>
                    </div>



                </form>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                    <button id="genPdf" type="button" data-dismiss="modal" class="btn btn-primary lang" data-lang="c_save"></button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal to create an overview report -->
<div id="overviewReport" class="modal fade" aria-hidden="true">
    <div class="modal-dialog custom-modal-width modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                        class="sr-only">close</span></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-12 b-r">
                        <h3 class="m-t-none m-b lang" data-lang="a_rd">report definition</h3>

                        <form id="summaryReportForm">


                            <div class="form-group row">
                                <label class="col-sm-4 control-label" for="srf_text_fn">
                                    <span class="lang" data-lang="a_fn">fn</span><span> </span><span class="lang" data-lang="br_tf">text</span></label>
                                <div class="col-sm-6">
                                    <select class="form-control" id="srf_text_fn">
                                        <option class="lang" value="count" data-lang="count">count</option>
                                        <option class="lang" value="percent" data-lang="percent">percent</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group row">
                                <label class="col-sm-4 control-label" for="srf_num_fn">
                                    <span class="lang" data-lang="a_fn">fn</span><span> </span><span class="lang" data-lang="br_nf">text</span></label>
                                <div class="col-sm-6">
                                    <select class="form-control" id="srf_num_fn">
                                        <option class="lang" value="average" data-lang="average">average</option>
                                        <option class="lang" value="min" data-lang="min">min</option>
                                        <option class="lang" value="max" data-lang="max">max</option>
                                        <option class="lang" value="sum" data-lang="sum">sum</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-4 control-label" for="srf_group">
                                    <span class="lang" data-lang="a_gb">group</span></label>
                                <div class="col-sm-6">
                                    <select class="form-control" id="srf_group"></select>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close
                </button>
                <button id="overviewReportSave" type="button" class="btn btn-primary lang" data-lang="m_export">export</button>
            </div>
        </div>
    </div>
</div>

<!-- Popup to allow the user to select the visible columns -->
<div id="settingsPopup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="genpdfLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title lang" data-lang="c_settings">pdf</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6"></div>
                    <div class="col-sm-2">
                        <input type="checkbox" name="clearColumns" id="clearColumns">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6"><b><span class="lang" data-lang="c_cols"></span></b></div>
                    <div class="col-sm-2"><b><span class="lang" data-lang="c_show"></span></b></div>
                    <div class="col-sm-2"><b><span class="lang" data-lang="ed_bc"></span></b></div>
                    <div class="col-sm-2"><b><span class="lang" data-lang="co_tid"></span></b></div>
                </div>
                <div id="tab-columns-content"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close"></button>
                <button id="saveSettings" type="button" data-dismiss="modal" class="btn btn-primary lang" data-lang="c_save"></button>
            </div>
        </div>
    </div>
</div>

<!-- Parameters for individual report -->
<div id="tdh_individual_report_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dtLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title lang" data-lang="u_access"></h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">

                <form role="form">
                    <div class="form-group row">
                        <label class="col-sm-4 control-label" for="tdh_rep_bc">Beneficiary code</label>
                        <div class="col-sm-8">
                            <input id="tdh_rep_bc" type='text' class="form-control"/>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
                <button id="tdh_individual_report_save" type="button" class="btn btn-primary lang" data-lang="c_create">create</button>
            </div>
        </div>
    </div>
</div>

<!-- Chart settings -->
<div id="chart_settings_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="csLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="csLabel" class="modal-title lang" data-lang="c_settings"></h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">

                <form id="addChartForm" role="form">
                    <div class="form-group row">
                        <label class="col-sm-4 control-label lang" data-lang="c_subject" for="cs_subject"></label>
                        <div class="col-sm-8">
                            <select class="form-control" id="cs_subject">
                                <option class="lang" value="status" data-lang="c_status"></option>
                                <option class="lang" value="assigned" data-lang="t_assigned"></option>
                                <option class="lang" value="alert" data-lang="c_alert"></option>
                                <option class="lang" value="criticality" data-lang="c_crit"></option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row qonly">
                        <label class="col-sm-4 control-label lang" data-lang="c_question" for="cs_question"></label>
                        <div class="col-sm-8">
                            <select class="form-control" id="cs_question"></select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-4 control-label lang" data-lang="a_type" for="cs_chart_type"></label>
                        <div class="col-sm-8">
                            <select class="form-control" id="cs_chart_type">
                                <option class="lang" value="bar" data-lang="cm_bar"></option>
                                <option class="lang" value="col" data-lang="cm_col"></option>
                                <option class="lang" value="pie" data-lang="cm_pie"></option>
                            </select>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
                <button id="chart_settings_save" type="button" class="btn btn-primary lang" data-lang="c_save">save</button>
            </div>
        </div>
    </div>
</div>

</body>
</html>
