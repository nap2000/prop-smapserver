<!doctype html>
<html lang="en">
<head>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title class="lang" data-lang="c_templates"></title>

	<link href="/favicon.ico" rel="icon" />
	<link href="/css/bootstrap.v4.5.min.css" rel="stylesheet">
	<link href="/custom/css/custom.css" rel="stylesheet">
	<link href="/custom/css/org/custom.css" rel="stylesheet">
	<link href="/css/fa.v5.15.1.all.min.css" rel="stylesheet">
	<link href="/css/smap3.css" rel="stylesheet">

	<script src="/js/libs/modernizr.js"></script>
	<script src="/js/app/theme.js"></script>
	<script src="/js/app/pwacommon.js"></script>
	<script src="/js/libs/jquery-3.5.1.min.js"></script>
	<script src="/js/libs/popper.v1.16.1.min.js"></script>
	<script src="/js/libs/bootstrap.bundle.v4.5.min.js"></script>
	<script src="/js/app/custom.js"></script>  <!-- Override this in custom code to apply changes at run time -->

	<script data-main="/js/templates" src="/js/libs/require.js"></script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-smap navbar-light bg-light bg-navbar-smap">
	<a class="navbar-brand lang" data-lang="c_templates" href="#">templates</a>
	<div class="spinner-grow text-danger hour_glass"></div>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"><i class="fas fa-bars large-bars"></i></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent">
		<ul class="navbar-nav ml-auto">
			<li class="nav-item dropdown active">
				<a class="nav-link dropdown-toggle" href="#" id="m_modules" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<span class="lang" data-lang="m_modules">modules</span>
				</a>
				<div class="dropdown-menu" aria-labelledby="m_modules">
					<a class="dropdown-item lang" data-lang="m_home" href="/">home</a>
					<a class="dropdown-item restrict_role admin_role analyst_role" href="/edit.html"> <span class="lang" data-lang="c_edit">Edit</span></a>
					<a class="dropdown-item restrict_role admin_role analyst_role" href="/app/fieldManager/surveyManagement.html"><span class="lang" data-lang="m_admin">Admin</span></a>
					<a class="dropdown-item restrict_role manage_role admin_role analyst_role" href="/app/myWork/index.html"><span class="lang" data-lang="m_web_forms"></span></a>
					<a class="dropdown-item restrict_role manage_role admin_role analyst_role" href="/app/tasks/managed_forms.html"><span class="lang" data-lang="m_console"></span></a>
					<a class="dropdown-item restrict_role analyst_role data_role" href="/app/fieldAnalysis/index.html"><span class="lang" data-lang="m_analysis">Analysis</span></a>
					<a class="dropdown-item restrict_role admin_role analyst_role manage_role task_role" href="/app/tasks/taskManagement.html"><span class="nav-label lang" data-lang="m_assign">assign</span></a>
					<a id="c_campaigns" class="dropdown-item restrict_role admin_role analyst_role" href="/app/tasks/campaign.html"><span class="lang" data-lang="c_campaigns">m</span></a>
					<a class="dropdown-item restrict_role admin_role analyst_role" href="/app/api.html"><span class="lang" data-lang="c_api">api</span></a>
					<a class="dropdown-item restrict_role billing_role" href="/app/fieldManager/billing.html" style="display:none;"><span class="lang" data-lang="m_billing">billing</span></a>
					<a class="dropdown-item restrict_role dashboard_role" style="display:none;" href="/dashboard/index.html"><span>Dashboard</span></a>
					<a class="dropdown-item restrict_role admin_role analyst_role manage_role task_role" href="/app/reports.html"><span class="nav-label lang" data-lang="m_reports">reports</span></a>
				</div>
			</li>

			<li id="m_form" class="nav-item"><a class="nav-link" href="/edit.html"><span class="lang" data-lang="c_form"></span></a></li>
			<li id="m_changes" class=""nav-item"><a  href="/app/changes.html" class="nav-link lang" data-lang="c_changes">changes</a></li>
			<li id="m_translate" class="nav-item"><a class="nav-link" href="/translate.html"><span class="lang" data-lang="c_trans"></span></a></li>


			<li id="m_help" class="nav-item"><a class="nav-link" href="https://www.smap.com.au/docs" target="_blank"><span class="nav-label lang" data-lang="m_help">help</span></a></li>
			<li id="m_training" class="nav-item d-none"><a class="nav-link" id="train_link" href="#" target="_blank"><span class="nav-label lang" data-lang="m_train">training</span></a></li>
			<li class="nav-item dropdown active">
				<a class="nav-link dropdown-toggle" href="#" id="m_profile" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<i class="fa fa-user" aria-hidden="true"></i>
				</a>
				<div class="dropdown-menu dropdown-menu-right" aria-labelledby="m_profile">
					<a class="dropdown-item lang"  id="username" data-lang="m_user_profile" data-toggle="modal" data-target="#modify_me_popup" aria-label="User"> </a>
					<a class="dropdown-item lang" data-lang="c_change_p" href="/app/changePassword.html"></a>
					<a id="userProfileLogout" class="dropdown-item lang" data-lang="c_logout" href="/dologout.html"></a>
				</div>
			</li>
		</ul>

	</div>
</nav>


<div class="container-fluid mt-4 px-4">

	<div class="card text-center mt-10">
		<div class="card-header">
			<div class="mt-1 mb-1">
				<button	id="addTemplate" class="btn btn-primary lang pl-4 pr-4" data-lang="tm_add" value="add template" >upload</button>
			</div>
		</div>
		<div class="card-body">
			<div id="templates" class="bg-light table-responsive mt-4"></div>
		</div>
	</div>
</div>

<!-- Popup to add a new template -->
<div id="template_add" class="modal fade" tabindex="-1" aria-labelledby="template_add_title" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 id="template_add_title"><span class="lang" data-lang="tm_up">load</span></h5>
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

			</div>
			<div class="modal-body">

				<div id="up_alert" style="display:none; word-wrap:break-word;" class="alert alert-success" role="alert"></div>
				<div id="up_warnings" style="display:none;" class="alert alert-warning" role="alert"></div>
				<form name="uploadTemplate" accept-charset="utf-8">
					<div class="form-group row notreplace">
						<label class="col-sm-2 col-form-label" for="templateName"><span data-lang="c_name" class="lang">Name</span>:</label>
						<div class="col-sm-10">
							<input id="templateName" class="form-control" type="text" name="templateName" maxlength="100" required />
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" for="file"><span data-lang="c_file" class="lang">file</span></label>
						<div class="col-sm-10">
							<input type="file" class="form-control-file" name="tname" id="file" required/>
						</div>
					</div>

					<input id="surveyId" type="hidden" name="surveyId" value="" style="display:none;"/>
					<input id="projectId" type="hidden" name="projectId" value="" style="display:none;"/>
					<input id="uploadAction" type="hidden" name="action" value="" style="display:none;"/>
				</form>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
				<button id="templateLoad" type="button" class="btn btn-primary lang" data-lang="c_upload">Upload</button>
			</div>
		</div>
	</div>
</div>

<!-- Popup to edit a template -->
<div id="template_edit" class="modal fade" tabindex="-1" aria-labelledby="template_edit_title" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 id="template_edit_title"><span class="lang" data-lang="c_edit">edit</span></h5>
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

			</div>
			<div class="modal-body">

				<div id="edit_warnings" style="display:none;" class="alert alert-warning" role="alert"></div>
				<form name="editTemplate" accept-charset="utf-8">
					<div class="form-group row notreplace">
						<label class="col-sm-2 col-form-label" for="templateRule"><span data-lang="c_rule" class="lang">rule</span>:</label>
						<div class="col-sm-10">
							<input id="templateRule" class="form-control" type="text" name="templateName" />
						</div>
					</div>
				</form>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
				<button id="ruleSave" type="button" class="btn btn-primary lang" data-lang="c_save">save</button>
			</div>
		</div>
	</div>
</div>

</body>
</html>
