<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">

	<title class="lang" data-lang="m_users"></title>

	<link href="/css/normalize.css" rel="stylesheet" />
	<link href="/css/bootstrap.v4.min.css" rel="stylesheet">
	<link href="/font-awesome/css/font-awesome.css" rel="stylesheet">
	<link href="/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
	<link href="/css/bootstrap-colorpicker.min.css" rel="stylesheet" />
	<link href="/css/wb/animate.css" rel="stylesheet">
	<link href="/css/wb/style.v2.9.1.css" rel="stylesheet">
	<link href="/css/smap-wb.css" type="text/css" rel="stylesheet" >

	<script type="text/javascript"> if (!window.console) console = {log: function() {}}; </script>
	<script src="/js/libs/modernizr.js"></script>
	<script src="/js/libs/jquery-2.1.1.js"></script>
	<script src="/js/libs/bootstrap.bundle.v4.min.js"></script>
	<script src="/js/app/custom.js"></script>  <!-- Override this in custom code to apply changes at run time -->
	<script data-main="js/usermanagement_main" src="/js/libs/require.js"></script>

</head>
<body>

	<div id="wrapper">
		<nav class="navbar-default navbar-static-side noPrint" role="navigation">
		  <div>
			  <ul class="nav metismenu" id="side-menu">
				  <li>
					  <a id="username" data-toggle="modal" data-target="#modify_me_popup" aria-label="User">
						  <i class="glyphicon glyphicon-user" aria-hidden="true"></i>
						  <span class="lang" data-lang="m_user_profile"></span></a>
				  </li>
				  <li>
					  <a href="#" id="m_modules_inspinia" aria-expanded="false"><i class="fa fa-th-large"></i> <span
							  class="lang" data-lang="m_modules">modules</span></a>
					  <ul class="nav nav-second-level" aria-expanded="false">

						  <li><a class="lang" data-lang="m_home" href="/?loggedin=yes"></a></li>
						  <li class="restrict_role admin_role analyst_role"><a href="/edit.html"><i
								  class="glyphicon glyphicon-edit"></i> <span class="lang" data-lang="c_edit"></span></a>
						  </li>
						  <li class="restrict_role admin_role analyst_role"><a
								  href="/fieldManager/surveyManagement.html"><i class="glyphicon glyphicon-wrench"></i>
							  <span class="lang" data-lang="m_admin">Admin</span></a></li>
						  <li class="restrict_role enum_role"><a href="/webForm.html">
							  <i class="glyphicon glyphicon-globe"></i>
							  <span class="nav-label lang" data-lang="m_data_mod"></span></a>
						  </li>
						  <li class="restrict_role analyst_role"><a href="/fieldAnalysis/index.html"><i
								  class="glyphicon glyphicon-stats"></i> <span class="nav-label lang"
																			   data-lang="m_analysis">Analysis</span></a>
						  </li>
						  <li class="restrict_role admin_role analyst_role"><a href="/tasks/taskManagement.html"><i
								  class="fa fa-tasks"></i> <span class="nav-label lang" data-lang="m_assign">assign</span></a>
						  </li>
						  <li class="restrict_role billing_role" style="display:none;"><a href="/fieldManager/billing.html"><i
								  class="fa fa-usd"></i> <span class="nav-label lang" data-lang="m_billing">billing</span></a>
						  </li>
					  </ul>
				  </li>

				  <li id="m_tm" class="restrict_role admin_role analyst_role"><a
						  href="/fieldManager/surveyManagement.html"><i class="fa fa-envelope"></i> <span
						  class="nav-label lang" data-lang="m_tm"></span></a></li>
				  <li id="m_monitor" class="restrict_role admin_role analyst_role"><a
						  href="/fieldManager/monitor.html"><i class="fa fa-envelope"></i> <span
						  class="nav-label lang" data-lang="m_monitor"></span></a></li>
				  <li id="m_resources" class="restrict_role admin_role analyst_role"><a
						  href="/resources.html"><i class="fa fa-envelope"></i> <span
						  class="nav-label lang" data-lang="m_resources"></span></a></li>
				  <li id="m_os" class="restrict_role admin_role analyst_role"><a
						  href="/tasks/oversight.html"><i class="fa fa-envelope"></i> <span
						  class="nav-label lang" data-lang="m_os"></span></a></li>
				  <li id="m_logs" class="restrict_role admin_role analyst_role"><a
						  href="/tasks/log.html"><i class="fa fa-envelope"></i> <span
						  class="nav-label lang" data-lang="m_logs"></span></a></li>
				  <li id="m_help"><a
						  href="https://docs.google.com/folderview?id=0B5_SmpWlQYxvNExwSFV5X051Yjg&usp=docslist_api#"
						  target="_blank"><i class="fa fa-info-circle"></i> <span class="lang"
																				  data-lang="m_help">help</span></a></li>
				</li>
			  </ul>
		  </div>

		</nav>

		<div id="page-wrapper" class="gray-bg">

			<!-- Navbar Row -->
			<div class="row border-bottom">
				<nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
					<div class="navbar-header">
						<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i></a>
					</div>
					<h2 class="navbar-left"><span class="lang" data-lang="m_user"></span>: <span id="organisation_name"></span></h2>

					<ul class="nav navbar-top-links navbar-right">
					</ul>
				</nav>
			</div>

			<ul class="nav nav-pills nav-fill">
				<li id="usersTab" class="av-item"><a href="#" class="active n nav-link lang" data-lang="m_user"></a></li>
				<li id="projectsTab" class="nav-item" ><a href="#" class="nav-link lang" data-lang="c_projects"></a></li>
				<li id="roleTab" class="nav-item restrict_role org_role security_role"><a href="#" class="nav-link lang" data-lang="c_roles">roles</a></li>
				<li id="organisationTab" class="nav-item restrict_role org_role"><a href="#" class="nav-link lang" data-lang="c_orgs"></a></li>
				<li id="serverTab" class="nav-item restrict_role owner_role"><a href="#" class="nav-link lang" data-lang="c_server"></a></li>
				<li id="deviceTab" class="nav-item"><a href="#" class="nav-link lang" data-lang="u_det_o_ft"></a></li>
				<li id="webformTab" class="nav-item"><a href="#" class="nav-link lang" data-lang="u_det_o_wf"></a></li>
				<li id="sensitiveTab" class="nav-item restrict_role security_role"><a href="#" class="nav-link lang" data-lang="u_sens_data"></a></li>
				<li id="enterpriseTab" class="nav-item restrict_role enterprise_role"><a href="#" class="nav-link lang" data-lang="c_ent"></a></li>
			</ul>


			<!-- The container for the user list -->
			<div id="userPanel" class="usertab">

				<div class="well" id="filters">
					<div class="container">
						<form role="form" class="form-horizontal" id="user_filter_form">
							<div class="form-group">
								<label class="control-label col-sm-4" for="group_name"><span class="lang" data-lang="u_show_u"></span>:</label>
								<div class="col-sm-4">
									<select class="form-control" id="group_name"></select>
								</div>
							</div>
							<div class="form-group">
								<label class="control-label col-sm-4" for="project_name"><span class="lang" data-lang="u_show_p"></span>:</label>
								<div class="col-sm-4">
									<select class="form-control project_list" id="project_name"></select>
								</div>
							</div>

							<div class="security_role form-group" style="display:none;">
								<label class="control-label col-sm-4" for="role_name"><span class="lang" data-lang="u_show_r"></span>:</label>
								<div class="col-sm-4">
									<select class="form-control role_list" id="role_name"></select>
								</div>
							</div>

							<div class="org_role form-group" style="display:none;">
								<label class="control-label col-sm-4" for="org_name"><span class="lang" data-lang="u_show_o"></span>:</label>
								<div class="col-sm-4">
									<select class="form-control org_list" id="org_name"></select>
								</div>
							</div>
						</form>
					</div>
				</div>

				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<div class="container">
					<div class="row">
						<div class="col-md-12 col-xs-12">
							<button class="btn btn-success lang" id="create_user" data-lang="u_add">add</button>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12 col-xs-12">
							<div id="user_table"  style="margin-top:20px;"></div>
						</div>
					</div>

				</div>
				<div class="col-md-12 text-center">
					<img id="hour_glass" src="/images/ajax-loader.gif" style="display:none;" alt="hourglass" height="60" width="60">
				</div>
			</div>

			<!-- The container for the list of projects -->
			<div id="projectPanel" style="display:none;" class="usertab">

				<div id="project_table" style="margin-top:20px;"></div>

				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button class="btn btn-success lang" id="create_project" data-lang="u_add_p">Add Project</button>
				<button class="btn btn-danger lang" id="delete_project" data-lang="u_del_p">Delete Project</button>
				<button class="btn btn-warning restrict_role org_role move_to_organisation lang" data-lang="u_mv">move</button>

			</div>

			<!-- The container for the list of roles -->
			<div id="rolesPanel" style="display:none;" class="usertab">

				<div id="role_table" style="margin-top:20px;"></div>

				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button class="btn btn-success lang" id="create_user_role" data-lang="u_add_r">Add Role</button>
				<button class="btn btn-danger lang" id="delete_role" data-lang="u_del_r">Delete Role</button>

			</div>

			<!-- The container for device settings -->
			<div id="devicePanel" style="display:none;" class="usertab">

				<div class="well">
					<div class="container">
						<form role="form" class="form-horizontal" id="device_form">

							<div class="form-group">
								<label data-lang="u_ft_rv" class="lang col-sm-4 control-label">tasks</label>
								<div class="col-sm-6">
									<div class="checkbox">
										<input type="checkbox" name="devoption" class="devoption" value="ft_review_final">
									</div>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_send" data-lang="u_ft_as" class="lang control-label col-sm-4">synchronise</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_send">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="c_off" value="off"></option>
										<option class="lang" data-lang="u_ft_sw" value="wifi_only"></option>
										<option class="lang" data-lang="u_ft_sw_c" value="wifi_and_cellular"></option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_delete" data-lang="u_ft_del" class="lang control-label col-sm-4">delete</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_delete">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="c_off" value="off"></option>
										<option class="lang" data-lang="c_on" value="on"></option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_backward_navigation" data-lang="u_ft_back_nav" class="lang control-label col-sm-4">backward</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_backward_navigation">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="c_dis" value="disable"></option>
										<option class="lang" data-lang="c_en" value="enable"></option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_navigation" data-lang="u_ft_nav" class="lang control-label col-sm-4">nav</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_navigation">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="u_ft_swipes" value="swipe"></option>
										<option class="lang" data-lang="u_ft_buttons" value="buttons"></option>
										<option class="lang" data-lang="u_ft_swipes_buttons" value="swipe_buttons"></option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_image_size" data-lang="u_ft_img_size" class="lang control-label col-sm-4">image size</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_image_size">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="u_ft_img_camera" value="original_image_size">camera</option>
										<option class="lang" data-lang="u_ft_vs" value="very_small">very small</option>
										<option class="lang" data-lang="u_ft_s" value="small">small</option>
										<option class="lang" data-lang="u_ft_m" value="medium">medium</option>
										<option class="lang" data-lang="u_ft_l" value="large">large</option>
									</select>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_login_policy1" data-lang="u_ft_pw_policy" class="lang control-label col-sm-4"></label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_login_policy1">
										<option class="lang" data-lang="u_ft_never" value="never"></option>
										<option class="lang" data-lang="u_ft_always" value="always"></option>
										<option class="lang" data-lang="u_ft_periodically" value="periodic"></option>
									</select>
								</div>
							</div>
							<div class="form-group  pw_timeout" style="display:none;">
								<label for="ft_login_policy2" data-lang="u_ft_pw_timeout" class="lang col-sm-4 control-label"></label>
								<div class="col-sm-6">
									<div class="form-control">
										<input type="number" id="ft_login_policy2">
									</div>
								</div>
							</div>

							<div class="form-group">
								<label for="ft_number_tasks" data-lang="u_ft_tasks" class="lang col-sm-4 control-label">max tasks</label>
								<div class="col-sm-6">
									<div class="form-control">
										<input type="number" id="ft_number_tasks">
									</div>
								</div>
							</div>
							<div class="form-group">
								<label data-lang="u_ft_os" class="lang col-sm-4 control-label">odk menus</label>
								<div class="col-sm-6">
									<div class="checkbox">
										<input type="checkbox" name="devoption" class="devoption" value="ft_odk_style_menus">
									</div>
								</div>
							</div>
							<div class="form-group">
								<label data-lang="u_ft_am" class="lang col-sm-4 control-label">admin menu</label>
								<div class="col-sm-6">
									<div class="checkbox">
										<input type="checkbox" name="devoption" class="devoption" value="ft_admin_menu">
									</div>
								</div>
							</div>
							<div class="form-group">
								<label data-lang="u_ft_ex" class="lang col-sm-4 control-label"></label>
								<div class="col-sm-6">
									<div class="checkbox">
										<input type="checkbox" name="devoption" class="devoption" value="ft_exit_track_menu">
									</div>
								</div>
							</div>
							<div class="form-group">
								<label data-lang="u_ft_in" class="lang col-sm-4 control-label">instance name</label>
								<div class="col-sm-6">
									<div class="checkbox">
										<input type="checkbox" name="devoption" class="devoption" value="ft_specify_instancename">
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="ft_send_location" data-lang="u_ft_ld" class="lang control-label col-sm-4">location</label>
								<div class="col-sm-6">
									<select class="form-control" id="ft_send_location">
										<option class="lang" data-lang="u_ft_sop" value="not set"></option>
										<option class="lang" data-lang="c_off" value="off"></option>
										<option class="lang" data-lang="c_on" value="on"></option>
									</select>
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="saveDevice" class="btn btn-success lang" data-lang="c_save">save</button>
			</div>

			<!-- The container for webform settings -->
			<div id="webformPanel" style="display:none;" class="usertab">

				<div class="well">
					<div class="container">
						<form role="form" class="form-horizontal">
							<div class="form-group">
								<label for="wf_page_background" data-lang="u_det_pbc" class="lang control-label col-sm-4">page</label>
								<div class="col-sm-6">
									<div id="wf_page_background" class="input-group colorpicker-component">
										<input type="text" value="#000000" class="form-control" />
										<span class="input-group-addon"><i></i></span>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="wf_paper_background" data-lang="u_det_paperbc" class="lang control-label col-sm-4">page</label>
								<div class="col-sm-6">
									<div id="wf_paper_background" class="input-group colorpicker-component">
										<input type="text" value="#000000" class="form-control" />
										<span class="input-group-addon"><i></i></span>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label for="wf_footer_horizontal_offset" data-lang="u_det_fp" class="lang control-label col-sm-4">page</label>
								<div class="col-sm-6">
									<input id="wf_footer_horizontal_offset" type="number" class="form-control" />
								</div>
							</div>
						</form>
					</div>
				</div>
				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="saveWebform" class="btn btn-success lang" data-lang="c_save">save</button>
				<button id="resetWebform" class="btn btn-warning lang" data-lang="c_reset">save</button>
			</div>

			<!-- The container for the list of organisations -->
			<div id="organisationPanel" style="display:none;" class="usertab">

				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="create_organisation" class="btn btn-success lang" data-lang="u_add_o">Add Organisation</button>
				<div id="organisation_table"  style="margin-top:20px;"></div>

			</div>

			<!-- The container for the server details -->
			<div id="serverPanel" style="display:none;" class="usertab">

				<div class="well">
					<div class="container">
						<form role="form" class="form-horizontal" id="server_form">
							<div class="form-group">
								<label for="mapbox_key" data-lang="u_mb_k" class="lang control-label col-sm-4">mapbox</label>
								<div class="col-sm-6">
									<input type="text" id="mapbox_key" required class="form-control">
								</div>
							</div>
							<div class="form-group">
								<label for="google_key" data-lang="u_g_k" class="lang control-label col-sm-4">google</label>
								<div class="col-sm-6">
									<input type="text" id="google_key" required class="form-control">
								</div>
							</div>
							<div class="form-group">
								<label for="s_smtp_host" data-lang="u_smtp" class="lang col-sm-4 control-label">smtp</label>
								<div class="col-sm-6">
									<input class="form-control" type="text" id="s_smtp_host" tabindex="10">
								</div>
							</div>
							<div class="form-group">
								<label for="s_email_domain" data-lang="u_e_dom" class="lang col-sm-4 control-label">email dom</label>
								<div class="col-sm-6">
									<input class="form-control" type="text" id="s_email_domain" tabindex="11">
								</div>
							</div>
							<div class="form-group">
								<label for="s_email_user" data-lang="u_e_nm" class="lang col-sm-4 control-label">email name</label>
								<div class="col-sm-6">
									<input class="form-control" type="text" id="s_email_user" tabindex="12">
								</div>
							</div>
							<div class="form-group">
								<label for="s_email_password"  data-lang="u_e_p" class="lang col-sm-4 control-label">email pwd</label>
								<div class="col-sm-6">
									<input class="form-control" type="password" id="s_email_password" tabindex="13">
								</div>
							</div>
							<div class="form-group">
								<label for="s_email_port" data-lang="u_e_port" class="lang col-sm-4 control-label">email port</label>
								<div class="col-sm-6">
									<input class="form-control" type="text" id="s_email_port" tabindex="14">
								</div>
							</div>
							<div class="form-group">
								<label for="s_sms_url" data-lang="u_sms_url" class="lang col-sm-4 control-label">sms</label>
								<div class="col-sm-6">
									<input class="form-control" type="text" id="s_sms_url" tabindex="15">
								</div>
							</div>

						</form>
					</div>
				</div>
				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="saveServer" class="btn btn-success lang" data-lang="c_save">save</button>
			</div>

			<!-- The container for documenting sensitive data -->
			<div id="sensitivePanel" style="display:none;" class="usertab">

				<div class="well">
					<div class="container">
						<form role="form" class="form-horizontal" id="sensitive_form">
							<div class="form-group">
								<label for="sens_sig" data-lang="u_sens_sq" class="lang control-label col-sm-4">signature</label>
								<div class="col-sm-6">
									<select class="form-control" id="sens_sig">
										<option class="lang" data-lang="u_sens_nr" value="none"></option>
										<option class="lang" data-lang="u_sens_ao" value="admin_only">admin only</option>
									</select>
								</div>
							</div>


						</form>
					</div>
				</div>
				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="saveSensitive" class="btn btn-success lang" data-lang="c_save">save</button>
			</div>

			<!-- The container for the list of enterprises -->
			<div id="enterprisePanel" style="display:none;" class="usertab">

				<div class="org_alert alert alert-success" role="alert" style="display:none;"></div>
				<button id="create_enterprise" class="btn btn-success lang" data-lang="u_add_e">add enterprise</button>
				<div id="enterprise_table"  style="margin-top:20px;"></div>
			</div>

		</div>
	</div>

	
<!-- Modal to allow the editing of a user's details -->
<div id="create_user_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modifyUserLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
     			<h4 class="modal-title lang" id="modifyUserLabel" data-lang="u_det">details</h4>
   			</div>
		     <div class="modal-body row">
     			<div class="col-md-6">
					<form role="form" class="form" id="user_create_form">
						<label for="user_ident" class="control-label lang" data-lang="u_ident">ident</label>
						<input type="text" id="user_ident" required pattern="[a-z0-9_]+" class="form-control">
							
						<label for="user_name" data-lang="c_name" class="lang control-label">Name</label>
						<input type="text" id="user_name" required class="form-control">

						<div class="restrict_role org_role">
							<label for="current_organisation" class="lang control-label" data-lang="u_co">organisation</label>
							<select class="organisation_select form-control" id="current_organisation"></select>
						</div>

						<div class="restrict_role enterprise_role">
							<label for="current_enterprise" class="lang control-label" data-lang="c_ent">enterprise</label>
							<select class="enterprise_select form-control" id="current_enterprise"></select>
						</div>

					<label for="user_email" data-lang="c_email" class="lang control-label">Email</label>
						<input type="email" class="form-control" id="user_email" 
								placeholder="Enter email" 
								pattern="^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$">
						<div id="send_email_fields" style="display:none;">
							<div class="radio">
								<label>
									<input type="radio" id="send_email" name="send_email" value="send_email" checked="checked"/>
										<span class="lang" data-lang="u_email">send email</span>
								</label>
							</div>
							<div class="radio">
								<label>
									<input  type="radio" id="set_password" name="send_email" value="set_password" />
									<span class="lang" data-lang="u_set_p">set password</span>
								</label>
							</div>
						</div>
						<div id="reset_password_fields" style="display:none;">
							<div class="form-group">
								<div class="col-sm-offset-2 col-sm-10">
									<div class="checkbox">
										<label>
											<input type="checkbox" id="reset_password"><span data-lang="c_r_p" class="lang">Reset Password</span>
										</label>
									</div>
								</div>
							</div>
						</div>
						<div id="password_fields" style="display:none;">
							<div class="form-group">
								<label for="user_password" data-lang="c_password" class="lang col-sm-4 control-label">password</label>
								<div class="col-sm-8">
									<input id="user_password" type="password" placeholder="Password" class="form-control">
								</div>
							</div>	
							<div class="form-group">
								<label for="user_password_confirm" data-lang="c_c_p" class="lang col-sm-4 control-label">confirm</label>
								<div class="col-sm-8">
									<input id="user_password_confirm" type="password" placeholder="Password" class="form-control">
								</div>
							</div>	
						</div>		
					</form>
				</div>
     			<div class="col-md-6">	
					<div class="right_panel">
						<div class="bg-danger">
							<h4 class="lang" data-lang="u_sg">security</h4>
							<div id = "user_groups"></div>
						</div>
						<div class="bg-warning">
							<h4 class="lang" data-lang="c_projects">projects</h4>
							<div id = "user_projects"></div>
						</div>
						<div id="user_roles_section" class="bg-info restrict_role org_role security_role" >
							<h4 class="lang" data-lang="c_roles">roles</h4>
							<div id = "user_roles"></div>
						</div>
						<div id="user_orgs_section" class="bg-danger restrict_role org_role" >
							<h4 class="lang" data-lang="c_orgs">organisations</h4>
							<div id = "user_orgs"></div>
						</div>

					</div>
				</div>
			</div>

			<div class="modal-footer">
            	<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="userDetailsSave" type="button" class="btn btn-primary lang" data-lang="c_save">Save</button>
        	</div>
		</div>
	</div>
</div>


<!-- Modal to allow the user to edit a project details -->
<div id="create_project_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createProjectLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<a type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></a>
     			<h4 class="modal-title lang" data-lang="u_det_p">project details</h4>
   			</div>
		    <div class="modal-body">
		     
				<form class="form form-horizontal" onsubmit="return false;" role="form" id="project_create_form">	
					<div class="form-group">
						<label for="p_name" data-lang="c_name" class="lang col-sm-2 control-label">name</label>
						<div class="col-sm-10">
							<input type="text" id="p_name" class="form-control" required tabindex="1"><br/>
						</div> 
					</div>
					<div class="form-group">
						<label for="p_desc" data-lang="c_desc" class="lang col-sm-2 control-label">Desc</label>
						<div class="col-sm-10">
							<textarea type="text" id="p_desc" class="form-control" tabindex="2"></textarea>
							<br/>
						</div> 
					</div>
					<div class="form-group">
						<label for="p_tasks_only" data-lang="t_tasks_only" class="lang col-sm-2 control-label">tasks</label>
						<div class="col-sm-10">
							<div class="checkbox">
								<input type="checkbox" id="p_tasks_only">
							</div>
						</div>
					</div>
				</form>	
				
			</div> 
			<div class="modal-footer">
            	<button type="button" class="btn lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="projectSave" type="button" class="btn btn-primary lang btn-default" data-lang="c_save">Save</button>
        	</div>
		</div>
	</div>
</div>

<!-- Modal to allow the user to edit a user role details -->
<div id="create_role_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createUserRoleLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<a type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></a>
     			<h4 class="modal-title lang" id="createProjectLabel" data-lang="u_det_ur">details</h4>
   			</div>
		    <div class="modal-body">
		     
				<form class="form form-horizontal" onsubmit="return false;" role="form" id="role_create_form">	
					<div class="form-group">
						<label for="ur_name" data-lang="c_name" class="lang col-sm-2 control-label">name</label>
						<div class="col-sm-10">
							<input type="text" id="ur_name" class="form-control" required tabindex="1"><br/>
						</div> 
					</div>
					<div class="form-group">
						<label for="ur_desc" data-lang="c_desc" class="lang col-sm-2 control-label">Desc</label>
						<div class="col-sm-10">
							<textarea type="text" id="ur_desc" class="form-control" tabindex="2"></textarea>
							<br/>
						</div> 
					</div>
					
				</form>	
				
			</div> 
			<div class="modal-footer">
            	<button type="button" class="btn lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="roleSave" type="button" class="btn btn-primary lang btn-default" data-lang="c_save">Save</button>
        	</div>
		</div>
	</div>
</div>

<!-- Modal to allow the user to edit an organisation details -->
<div id="create_organisation_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createOrganisationLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
   		<div class="modal-content">
   			<div class="modal-header">
				<h4 class="modal-title lang" data-lang="u_det_o" id="createOrganisationLabel"></h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
						aria-hidden="true">&times;</span></button>
   			</div>
		    <div class="modal-body">
				<form role="form" id="organisation_create_form">

					<fieldset>
						<div class="form-group row">
							<label for="o_name" data-lang="c_name" class="lang col-sm-2 control-label">name</label>
							<div class="col-sm-10">
								<input type="text" id="o_name" class="form-control" tabindex="1" required><br/>
							</div>
						</div>
					</fieldset>
					<div class="panel-group" role="tablist" aria-multiselectable="true">
 							<div class="panel panel-default">
   							<div class="panel-heading" role="tab" id="companyDetails">
								<h4 class="panel-title">
					       			<a data-toggle="collapse" data-parent="#show_publishing_params" href="#collapseCompanyDetails" aria-expanded="true" aria-controls="collapseLayers">
					         				<span class="lang" data-lang="u_det_o">org details</span>
					       			</a>
				     			</h4>
   							</div>
			    			<div id="collapseCompanyDetails" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">      					
					
								<label for="o_company_name" data-lang="c_company_name" class="lang control-label">org name</label>
								<input type="text" id="o_company_name" class="form-control" tabindex="2"><br/>
								
								<label for="o_company_address" class="lang control-label" data-lang="c_company_addr">org address</label>
								<input type="text" id="o_company_address" class="form-control" tabindex="3"><br/>
								
								<label for="o_company_phone" class="lang control-label" data-lang="c_company_phone">org phone</label>
								<input type="text" id="o_company_phone" class="form-control" tabindex="3"><br/>
						
								<label for="o_company_email" class="lang control-label" data-lang="c_company_email">org email</label>
								<input type="text" id="o_company_email" class="form-control" tabindex="4"><br/>
							
							</div>
								
						</div>
					</div>
					
					<div class="panel-group" role="tablist" aria-multiselectable="true">
 							<div class="panel panel-default">
   							<div class="panel-heading" role="tab" id="publishingOptions">
								<h4 class="panel-title">
					       			<a data-toggle="collapse" data-parent="#show_publishing_params" href="#collapsePublishingOptions" aria-expanded="true" aria-controls="collapseLayers">		
					         			<span class="lang" data-lang="u_det_o_rep">report options</span>
					       			</a>
				     			</h4>
   							</div>
			    			<div id="collapsePublishingOptions" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">      					
					
								<div class="checkbox"><label><input type="checkbox" name="puboption" value="email" class="puboption" tabindex="3" /> <span  class="lang" data-lang="c_email">email</span></label></div>
								<div class="checkbox"><label><input type="checkbox" name="puboption" value="twitter" class="puboption" tabindex="5" /> <span class="lang" data-lang="c_twitter">twitter</span></label></div>
							</div>
								
						</div>
					</div>

					<div class="panel-group" role="tablist" aria-multiselectable="true">
 							<div class="panel panel-default">
   							<div class="panel-heading" role="tab" id="emailOptions">
								<h4 class="panel-title">
					       			<a data-toggle="collapse" data-parent="#show_email_params" href="#collapseEmailOptions" aria-expanded="true" aria-controls="collapseLayers">
					         			<span class="lang" data-lang="u_det_o_email">email options</span>
					       			</a>
				     			</h4>
   							</div>
			    			<div id="collapseEmailOptions" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">      					
					
								<label for="o_admin_email" data-lang="u_h_e" class="lang control-label">help email</label>
								<input class="form-control" type="text" id="o_admin_email" tabindex="9">

								<label for="o_smtp_host" data-lang="u_smtp" class="lang col-sm-4 control-label">smtp</label>
								<input class="form-control" type="text" id="o_smtp_host" tabindex="10">
								
								<label for="o_email_domain" data-lang="u_e_dom" class="lang col-sm-4 control-label">domain</label>
								<input class="form-control" type="text" id="o_email_domain" tabindex="11">
								
								<label for="o_email_user" data-lang="u_e_nm" class="lang col-sm-4 control-label">user name</label>
								<input class="form-control" type="text" id="o_email_user" tabindex="12">
								
								<label for="o_email_password" data-lang="u_e_p" class="lang col-sm-4 control-label">Email password: </label>
								<input class="form-control" type="password" id="o_email_password" tabindex="13">
								
								<label for="o_email_port" data-lang="u_e_port" class="lang col-sm-4 control-label">port</label>
								<input class="form-control" type="text" id="o_email_port" tabindex="14">
								
								<label for="o_default_email_content" data-lang="c_content" class="lang col-sm-4 control-label">content</label>
								<textarea id="o_default_email_content" class="labelProp form-control" placeholder="Default Email content"></textarea>

								<label for="o_server_description" data-lang="u_e_si" class="lang col-sm-4 control-label">server identification</label>
								<textarea id="o_server_description" class="labelProp form-control" placeholder="Server Identifier"></textarea>
							</div>
								
						</div>
					</div>
					
					<div class="panel-group" role="tablist" aria-multiselectable="true">
 							<div class="panel panel-default">
   							<div class="panel-heading" role="tab" id="otherOptions">
								<h4 class="panel-title">
					       			<a data-toggle="collapse" data-parent="#show_fieldtask_params" href="#collapseOtherOptions" aria-expanded="true" aria-controls="collapseLayers">
					         			<span class="lang" data-lang="u_det_o_other">other options</span>
					       			</a>
				     			</h4>
   							</div>
			    			<div id="collapseOtherOptions" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
								<div class="checkbox"><label><input type="checkbox" checked="checked" name="puboption" value="can_edit" class="puboption" tabindex="8"/> <span class="lang" data-lang="u_other_edit">results editing</span></label></div>
								<div class="checkbox"><label><input type="checkbox" checked="checked" name="puboption2" value="email_task" class="puboption" tabindex="9"/> <span class="lang" data-lang="u_email_tasks">email tasks</span></label></div>
								<div class="checkbox"><label><input type="checkbox" checked="checked" name="puboption3" value="can_notify" class="puboption" tabindex="10"/> <span class="lang" data-lang="u_notifications">notifications</span></label></div>
								<div class="checkbox"><label><input type="checkbox" checked="checked" name="puboption4" value="can_use_api" class="puboption" tabindex="11"/> <span class="lang" data-lang="u_use_api">api</span></label></div>
								<div class="checkbox"><label><input type="checkbox" checked="checked" name="puboption5" value="can_submit" class="puboption" tabindex="12"/> <span class="lang" data-lang="u_submissions">submissions</span></label></div>
								<label for="o_tz" data-lang="c_tz" class="lang control-label">tz</label>
								<select class="form-control timezone_select" id="o_tz"></select>
								<label for="o_language" data-lang="c_lang" class="lang control-label">lang</label>
								<select class="form-control" id="o_language"></select>		
							</div>
						</div>
					</div>
						
					
				</form>	
				<form enctype="multipart/form-data" name="organisationsave" id="organisation_logo_form">
					<fieldset>
						<legend>Appearance:</legend>
						<div class="checkbox">
							<label>
								<input type="checkbox" name="set_as_theme" class="puboption" value="set_as_theme"/>
								<span  class="lang" data-lang="u_sat"></span>
							</label>
						</div>
						<input id="orgSettings" type="hidden" name="settings" >
						<div class="form-group row">
							<label for="o_banner_logo" class="lang col-sm-2 control-label" data-lang="u_bl"></label>
							<div class="col-sm-6">
								<img id="o_banner_logo" class="" src="" onerror='if(this.src.indexOf("smap_logo.png") < 0) this.src="/images/smap_logo.png";' style="width:100%;">
							</div>
							<div class="input-group-btn col-sm-4">
      							<input id="change_banner_logo" name="banner_logo" title="Add" class="file-inputs" type="file" accept="image/png, image/jpeg, image/gif">
    						</div>
						</div>
						<div class="form-group row">
							<label for="o_banner_logo" class="lang col-sm-2 control-label" data-lang="u_ml"></label>
							<div class="col-sm-6">
								<img id="o_main_logo" class="" src="" style="width:100%;">
							</div>
							<div class="input-group-btn col-sm-4">
								<input id="change_main_logo" name="main_logo" title="Add" class="file-inputs" type="file" accept="image/png, image/jpeg, image/gif">
							</div>
						</div>
         				          			
					</fieldset>
				</form>
			</div>
			<div class="modal-footer">
            	<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close" tabindex="13">Close</button>
            	<button id="organisationSave" type="button" class="btn btn-primary lang" data-lang="c_save" tabindex="12">Save</button>
        	</div>
		</div>
	</div>	

</div>

<!-- Modal to allow the user to edit an enterprise details -->
<div id="create_enterprise_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createEnterpriseLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title lang" id="createEnterpriseLabel" data-lang="u_det_o">org details</h4>
			</div>
			<div class="modal-body">
				<form class="form" role="form" class="form-horizontal" id="enterprise_create_form">

					<div class="form-group">
						<label for="e_name" data-lang="c_name" class="lang col-sm-2 control-label">name</label>
						<div class="col-sm-10">
							<input type="text" id="e_name" class="form-control" tabindex="1" required><br/>
						</div>
					</div>

				</form>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close" tabindex="13">Close</button>
				<button id="enterpriseSave" type="button" class="btn btn-primary lang" data-lang="c_save" tabindex="12">Save</button>
			</div>
		</div>
	</div>

</div>

<!-- Modal to allow projects to be moved to a new organisation -->
<div id="move_to_organisation_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="moveOrganisationLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
     			<h4 class="modal-title lang" id="moveOrganisationLabel" data-lang="u_mv">move</h4>
   			</div>
		    <div class="modal-body">
				<form id="organisation_move_form">
					<div class="form-group">
						<label for="target_organisation" class="lang col-sm-2 control-label" data-lang="c_org">organisation</label>
						<div class="col-sm-10">
							<select class="new_organisation_select form-control" id="target_organisation"></select>
						</div>
					</div>
				</form>	
			</div>
			<div class="modal-footer">
            	<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="organisationMove" type="button" class="btn btn-primary lang" data-dismiss="modal" data-lang="c_save">Save</button>
        	</div>
        </div>
	</div>
</div>

<!-- Modal to allow organisations to be moved to a new enterprise -->
<div id="move_to_enterprise_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="moveEnterpriseLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title lang" id="moveEnterpriseLabel" data-lang="u_mv_ent">move</h4>
			</div>
			<div class="modal-body">
				<form id="enterprise_move_form">
					<div class="only_one" style="display:none;">
						<p class="lang" data-lang="u_only_one_ent"></p>
					</div>
					<div class="form-group many">
						<label for="target_enterprise" class="lang col-sm-2 control-label" data-lang="c_ent">enterprise</label>
						<div class="col-sm-10">
							<select class="new_enterprise_select form-control" id="target_enterprise"></select>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
				<button id="enterpriseMove" type="button" class="btn btn-primary lang" data-dismiss="modal" data-lang="c_save">Save</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal to allow the user to get usage details -->
<div id="get_usage_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="getUsageLabel" aria-hidden="true">
	<div class="modal-dialog">
   		<div class="modal-content">
   			<div class="modal-header">
     			<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
     			<h4 class="modal-title lang" data-lang="u_usage" id="getUsageLabel">usage</h4>
   			</div>
		    <div class="modal-body">
		     
				<form class="form" role="form">
					<div class="form-group">
	                	<div class='input-group date' id='usageDate' data-toggle="tooltip"  data-container="body" title="Month and Year of report">
	                    	<input type='text' class="form-control" data-date-format="YYYY/MM"/>
	                    	<span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span>
	                    	</span>
	                	</div>
	            	</div>
				</form>	
			</div> 
			<div class="modal-footer">
            	<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
            	<button id="usageGet" type="button" class="btn btn-primary lang" data-lang="u_gr">get</button>
        	</div>
		</div>
	</div>
</div>

<!-- Modal to ask for confirmation of deleting a user from multiple organisations -->
<div id="del_user_confirm_popup" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="delUserLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title lang" id="delUserLabel" data-lang="c_c_d">confirm</h4>
			</div>
			<div class="modal-body">

				<form id="confirmDelForm" class="form" role="form">
					<div class="form-group">
						<div>
							<label>
								<input type="radio" name="confirm_delete" value="delete_one" checked="checked"/>
								<span id="confirmDelOne">delete one</span>
							</label>
						</div>
						<div>
							<label>
								<input  type="radio" name="confirm_delete" value="delete_all" />
								<span id="confirmDelAll">delete all</span>
							</label>
						</div>
						<div>
							<label>
								<input  type="radio" name="confirm_delete" value="cancel" />
								<span class="lang" data-lang="c_cancel">cancel</span>
							</label>
						</div>
					</div>
				</form>
			</div>

			<div class="modal-footer">
				<button type="button" class="btn btn-default lang" data-dismiss="modal" data-lang="c_close">Close</button>
				<button id="confirmDelUser" type="button" class="btn btn-primary lang" data-lang="c_ok">ok</button>
			</div>
		</div>
	</div>
</div>

</body>
</html>